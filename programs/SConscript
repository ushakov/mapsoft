Import ('env')
env_geo = env.Clone()

mapsoft_libs = Split ("geo_io geo loaders jeeps fig mp utils options 2d")
other_libs   = Split ("usb tiff jpeg png gd curl proj")

env_geo.Prepend(LIBS=[mapsoft_libs, other_libs])

map (lambda(f): env_geo.Program(f+'.cpp'),\
  Split("""
    mapsoft_add2fig
    mapsoft_convert
    mapsoft_pt2map
    mapsoft_mapcnv
    mapsoft_mapcnv1
    mapsoft_getks
    mapsoft_getks_ll
    mapsoft_getks_nom
    mapsoft_getgoogle
    mapsoft_mkmap
    mapsoft_ref
    mapsoft_toxyz
    mapsoft_map2fig
    mapsoft_srtm2fig
    mapsoft_fig2fig
    mapsoft_calc_nom2ll
    mapsoft_measure
    mapsoft_trackprofile
    mapsoft_srtmprofile
    mapsoft_pano
    fig_ref_mod

    convs_pt2pt
    convs_map2pt
    convs_nom
    """))


env.Program('fig_crop.cpp', LIBS=['fig', 'utils'])
env.Program('fig_sort.cpp', LIBS=['fig', 'utils'])

env.Install(env.man1dir, Split("""
  mapsoft_convert.1
"""))

env.Install(env.bindir, Split("""
  mapsoft_convert mapsoft_add2fig
  convs_pt2pt convs_map2pt convs_nom
"""))

