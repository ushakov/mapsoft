slazav, 22.06.2007
 * добавил am_add_wpt.h (очень уж хотелось получать координаты из карты! :))
 * в LayerGeoData добавил метод refresh() - пересчет границ данных
   (после добавления или редактирования такое надо делать) 
 * добавил am_move_wpt.h, пока без резины.
 * в layer.h вставил метод refresh(), который вызывается из 
   workplain::mark_level_dirty 
   Надо бы еще как-то layer пинать, что наши данные изменились...
 - не работает - сохранение наших отредактированных геоданных
 - не работает - обновление layer cache после исправления геоданных
--------------------------------------------------------------------
ushakov, 21.06.2007

 * сделаны режимы и действия! 
   viewer/generic_dialog.{h,cpp}
   viewer/action_manager.h
   viewer/action_mode.h
   viewer/am_edit_wpt.h

 * geo_io/geo_data.h: преобразования точек из/в Options

--------------------------------------------------------------------
ushakov, 17.06.2007

 * layers/layer_geodata.h: вычистил действия, пытаюсь вынести их в
   отдельный класс;
   создал методы получения точек и треков по координатам на плоскости
 
 * viewer/viewer.h: перенёс всю работу с событиями в programs/mapview.h,
   так как там будет весь контроль, а viewer будет только показывать и 
   отвечать на команды

 * geo_io/geo_convs.cpp: откатил часть Славиных изменений, так как иначе
   карты рисовались с полями и эти поля друг друга перекрывали (в основном
   откат касается обработки границ)

--------------------------------------------------------------------
slazav, 16.06.2007

 * programs/mapsoft_mapcnv -- делает не только растровую карту в
   нужном диапазоне координат, но и правильно привязанный fig-файл с
   этой картой.

 * loaders/image_ks.h -- загрузчик снимков с new.kosmosnimki.ru,
   аналогичный loaders/image_google.h

 * geo_io/geo_names.h, geo_io/geo_convs.h -- добавлена проекция 
   "google" (Кажется, это не совсем честный меркатор)

 * geo_io/geo_refs.h -- построение привязок для космоснимков

 * geo_io/geo_convs.h 
   Rect<int> map2map::bb_frw(const Rect<int> & R);
   Rect<int> map2map::bb_bck(const Rect<int> & R);
   -- преобразование прямоугольника (в произвольную фигуру) и 
   нахождение минимального прямоугольника, в котором она лежит.
   ("Какую часть картинки надо загрузить для преобразования")

 * Во вьюере cache_updater зачем-то делал сначала временную плитку 
   и сигналил (временную плитку также делает и draw_tile).
   Убрано.

 * geo_io/geo_convs.cpp -- Исправил ошибки из-за неправильного округления,
   и вообще все упростил в map2map::image_bck / image_frw

 * Удалил старый layer_google1.h и layer_geodata_g.h

 * Программы mapsoft_googleview и mapsoft_ksview
--------------------------------------------------------------------
