import distutils.sysconfig
Import ('env')
import os.path

subdirs = Split ("""
    2d
    fig
    geo
    geo_io
    gred
    jeeps
    layers
    loaders
    mp
    ocad
    options
    utils
    vmap
    srtm
""")

# add CPPPATH and PKG_CONFIG_PATH to global env
env.Append (CPPPATH = "#core")
env.Append (ENV = {'PKG_CONFIG_PATH':
  [os.getcwd()+'/pc', os.getenv('PKG_CONFIG_PATH')] })

#swig = env.Clone()
#swig.Append(CPPPATH = [distutils.sysconfig.get_python_inc()])
#swig.Replace(SWIGFLAGS = ['-c++', '-python'])
#swig.Replace(SHLIBPREFIX = "")
#swig.Append(LIBS = Split("geo_io geo 2d fig utils jeeps loaders tiff jpeg png curl"))
#swig.SharedLibrary("_core.so", ["swig.i"])

SConscript (map (lambda(s): s+"/SConscript", subdirs))
